statement ok
create function int_42() returns int language javascript as $$
export async function int_42() {
    return 42;
}
$$ WITH (async = true);

query I
select int_42();
----
42

statement ok
drop function int_42;

statement ok
create function echo_batch_async(s varchar) returns varchar language javascript as $$
export async function echo_batch_async(vals) {
    return vals.map(v => v + "!");
}
$$ WITH (async = true, batch = true);

query T
select echo_batch_async(x) from (values ('hello'), (null), ('world')) as t(x);
----
hello!
null!
world!

statement ok
drop function echo_batch_async;
